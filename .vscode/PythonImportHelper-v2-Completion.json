[
    {
        "label": "json",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "json",
        "description": "json",
        "detail": "json",
        "documentation": {}
    },
    {
        "label": "queue",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "queue",
        "description": "queue",
        "detail": "queue",
        "documentation": {}
    },
    {
        "label": "atexit",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "atexit",
        "description": "atexit",
        "detail": "atexit",
        "documentation": {}
    },
    {
        "label": "threading",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "threading",
        "description": "threading",
        "detail": "threading",
        "documentation": {}
    },
    {
        "label": "Path",
        "importPath": "pathlib",
        "description": "pathlib",
        "isExtraImport": true,
        "detail": "pathlib",
        "documentation": {}
    },
    {
        "label": "Path",
        "importPath": "pathlib",
        "description": "pathlib",
        "isExtraImport": true,
        "detail": "pathlib",
        "documentation": {}
    },
    {
        "label": "Dict",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "Any",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "List",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "Any",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "Any",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "Callable",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "Optional",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "Dict",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "Any",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "ABC",
        "importPath": "abc",
        "description": "abc",
        "isExtraImport": true,
        "detail": "abc",
        "documentation": {}
    },
    {
        "label": "abstractmethod",
        "importPath": "abc",
        "description": "abc",
        "isExtraImport": true,
        "detail": "abc",
        "documentation": {}
    },
    {
        "label": "os",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "os",
        "description": "os",
        "detail": "os",
        "documentation": {}
    },
    {
        "label": "dataclass",
        "importPath": "dataclasses",
        "description": "dataclasses",
        "isExtraImport": true,
        "detail": "dataclasses",
        "documentation": {}
    },
    {
        "label": "sys",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "sys",
        "description": "sys",
        "detail": "sys",
        "documentation": {}
    },
    {
        "label": "logging",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "logging",
        "description": "logging",
        "detail": "logging",
        "documentation": {}
    },
    {
        "label": "time",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "time",
        "description": "time",
        "detail": "time",
        "documentation": {}
    },
    {
        "label": "random",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "random",
        "description": "random",
        "detail": "random",
        "documentation": {}
    },
    {
        "label": "asyncio",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "asyncio",
        "description": "asyncio",
        "detail": "asyncio",
        "documentation": {}
    },
    {
        "label": "functools",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "functools",
        "description": "functools",
        "detail": "functools",
        "documentation": {}
    },
    {
        "label": "contextvars",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "contextvars",
        "description": "contextvars",
        "detail": "contextvars",
        "documentation": {}
    },
    {
        "label": "contextmanager",
        "importPath": "contextlib",
        "description": "contextlib",
        "isExtraImport": true,
        "detail": "contextlib",
        "documentation": {}
    },
    {
        "label": "trace",
        "importPath": "tracepulse",
        "description": "tracepulse",
        "isExtraImport": true,
        "detail": "tracepulse",
        "documentation": {}
    },
    {
        "label": "trace_block",
        "importPath": "tracepulse",
        "description": "tracepulse",
        "isExtraImport": true,
        "detail": "tracepulse",
        "documentation": {}
    },
    {
        "label": "set_context",
        "importPath": "tracepulse",
        "description": "tracepulse",
        "isExtraImport": true,
        "detail": "tracepulse",
        "documentation": {}
    },
    {
        "label": "clear_context",
        "importPath": "tracepulse",
        "description": "tracepulse",
        "isExtraImport": true,
        "detail": "tracepulse",
        "documentation": {}
    },
    {
        "label": "BaseBackend",
        "kind": 6,
        "importPath": "tracepulse.src.tracepulse.backends",
        "description": "tracepulse.src.tracepulse.backends",
        "peekOfCode": "class BaseBackend(ABC):\n    \"\"\"Abstract base class for all trace backends.\"\"\"\n    @abstractmethod\n    def emit(self, event: Dict[str, Any]):\n        pass\nclass ConsoleBackend(BaseBackend):\n    \"\"\"Simple backend that prints traces to stdout.\"\"\"\n    def emit(self, event: Dict[str, Any]):\n        print(json.dumps(event, default=str))\nclass AsyncFileBackend(BaseBackend):",
        "detail": "tracepulse.src.tracepulse.backends",
        "documentation": {}
    },
    {
        "label": "ConsoleBackend",
        "kind": 6,
        "importPath": "tracepulse.src.tracepulse.backends",
        "description": "tracepulse.src.tracepulse.backends",
        "peekOfCode": "class ConsoleBackend(BaseBackend):\n    \"\"\"Simple backend that prints traces to stdout.\"\"\"\n    def emit(self, event: Dict[str, Any]):\n        print(json.dumps(event, default=str))\nclass AsyncFileBackend(BaseBackend):\n    \"\"\"\n    Writes events to a file using a background thread and a queue.\n    This ensures the tracer never blocks the main application execution.\n    \"\"\"\n    def __init__(self, file_path: str):",
        "detail": "tracepulse.src.tracepulse.backends",
        "documentation": {}
    },
    {
        "label": "AsyncFileBackend",
        "kind": 6,
        "importPath": "tracepulse.src.tracepulse.backends",
        "description": "tracepulse.src.tracepulse.backends",
        "peekOfCode": "class AsyncFileBackend(BaseBackend):\n    \"\"\"\n    Writes events to a file using a background thread and a queue.\n    This ensures the tracer never blocks the main application execution.\n    \"\"\"\n    def __init__(self, file_path: str):\n        self.file_path = Path(file_path)\n        # Ensure directory exists\n        self.file_path.parent.mkdir(parents=True, exist_ok=True)\n        # Queue size limit prevents memory leaks if writer is too slow",
        "detail": "tracepulse.src.tracepulse.backends",
        "documentation": {}
    },
    {
        "label": "add_backend",
        "kind": 2,
        "importPath": "tracepulse.src.tracepulse.backends",
        "description": "tracepulse.src.tracepulse.backends",
        "peekOfCode": "def add_backend(backend: BaseBackend):\n    \"\"\"Register a new backend.\"\"\"\n    _backends.append(backend)\ndef clear_backends():\n    \"\"\"Remove all registered backends.\"\"\"\n    _backends.clear()\ndef export(event: Dict[str, Any]):\n    \"\"\"Distribute event to all registered backends.\"\"\"\n    for b in _backends:\n        try:",
        "detail": "tracepulse.src.tracepulse.backends",
        "documentation": {}
    },
    {
        "label": "clear_backends",
        "kind": 2,
        "importPath": "tracepulse.src.tracepulse.backends",
        "description": "tracepulse.src.tracepulse.backends",
        "peekOfCode": "def clear_backends():\n    \"\"\"Remove all registered backends.\"\"\"\n    _backends.clear()\ndef export(event: Dict[str, Any]):\n    \"\"\"Distribute event to all registered backends.\"\"\"\n    for b in _backends:\n        try:\n            b.emit(event)\n        except Exception:\n            pass",
        "detail": "tracepulse.src.tracepulse.backends",
        "documentation": {}
    },
    {
        "label": "export",
        "kind": 2,
        "importPath": "tracepulse.src.tracepulse.backends",
        "description": "tracepulse.src.tracepulse.backends",
        "peekOfCode": "def export(event: Dict[str, Any]):\n    \"\"\"Distribute event to all registered backends.\"\"\"\n    for b in _backends:\n        try:\n            b.emit(event)\n        except Exception:\n            pass",
        "detail": "tracepulse.src.tracepulse.backends",
        "documentation": {}
    },
    {
        "label": "_STOP_SIGNAL",
        "kind": 5,
        "importPath": "tracepulse.src.tracepulse.backends",
        "description": "tracepulse.src.tracepulse.backends",
        "peekOfCode": "_STOP_SIGNAL = object()\nclass BaseBackend(ABC):\n    \"\"\"Abstract base class for all trace backends.\"\"\"\n    @abstractmethod\n    def emit(self, event: Dict[str, Any]):\n        pass\nclass ConsoleBackend(BaseBackend):\n    \"\"\"Simple backend that prints traces to stdout.\"\"\"\n    def emit(self, event: Dict[str, Any]):\n        print(json.dumps(event, default=str))",
        "detail": "tracepulse.src.tracepulse.backends",
        "documentation": {}
    },
    {
        "label": "Config",
        "kind": 6,
        "importPath": "tracepulse.src.tracepulse.config",
        "description": "tracepulse.src.tracepulse.config",
        "peekOfCode": "class Config:\n    \"\"\"Configuration loaded from Environment Variables.\"\"\"\n    ENABLED: bool = os.getenv(\"TRACEPULSE_ENABLED\", \"true\").lower() == \"true\"\n    SAMPLE_RATE: float = float(os.getenv(\"TRACEPULSE_SAMPLE_RATE\", \"1.0\"))\n    LOG_LEVEL: str = os.getenv(\"TRACEPULSE_LOG_LEVEL\", \"INFO\").upper()\n    LOG_DIR: str = os.getenv(\"TRACEPULSE_LOG_DIR\", \"logs\")\n    CAPTURE_ARGS: bool = os.getenv(\"TRACEPULSE_CAPTURE_ARGS\", \"false\").lower() == \"true\"\n    # Max length for captured arguments to prevent log bloating\n    MAX_ARG_LENGTH: int = int(os.getenv(\"TRACEPULSE_MAX_ARG_LENGTH\", \"500\"))\nsettings = Config()",
        "detail": "tracepulse.src.tracepulse.config",
        "documentation": {}
    },
    {
        "label": "settings",
        "kind": 5,
        "importPath": "tracepulse.src.tracepulse.config",
        "description": "tracepulse.src.tracepulse.config",
        "peekOfCode": "settings = Config()",
        "detail": "tracepulse.src.tracepulse.config",
        "documentation": {}
    },
    {
        "label": "set_level",
        "kind": 2,
        "importPath": "tracepulse.src.tracepulse.logger",
        "description": "tracepulse.src.tracepulse.logger",
        "peekOfCode": "def set_level(level: str):\n    \"\"\"Runtime level switcher.\"\"\"\n    # Note: Complex runtime switching for loguru/stdlib is simplified here \n    # to avoid bloated code. For v1.0, restart is recommended for level changes.\n    pass",
        "detail": "tracepulse.src.tracepulse.logger",
        "documentation": {}
    },
    {
        "label": "set_context",
        "kind": 2,
        "importPath": "tracepulse.src.tracepulse.tracer",
        "description": "tracepulse.src.tracepulse.tracer",
        "peekOfCode": "def set_context(tags: Dict[str, Any]):\n    \"\"\"Set context tags for the current execution flow. Returns a token for resetting.\"\"\"\n    return _TRACE_CONTEXT.set(tags)\ndef clear_context(token=None):\n    \"\"\"Reset context to previous state.\"\"\"\n    if token:\n        _TRACE_CONTEXT.reset(token)\n    else:\n        _TRACE_CONTEXT.set(None)\ndef _get_context() -> Dict[str, Any]:",
        "detail": "tracepulse.src.tracepulse.tracer",
        "documentation": {}
    },
    {
        "label": "clear_context",
        "kind": 2,
        "importPath": "tracepulse.src.tracepulse.tracer",
        "description": "tracepulse.src.tracepulse.tracer",
        "peekOfCode": "def clear_context(token=None):\n    \"\"\"Reset context to previous state.\"\"\"\n    if token:\n        _TRACE_CONTEXT.reset(token)\n    else:\n        _TRACE_CONTEXT.set(None)\ndef _get_context() -> Dict[str, Any]:\n    v = _TRACE_CONTEXT.get()\n    return v.copy() if isinstance(v, dict) else {}\ndef _should_record(sample_rate: float) -> bool:",
        "detail": "tracepulse.src.tracepulse.tracer",
        "documentation": {}
    },
    {
        "label": "trace",
        "kind": 2,
        "importPath": "tracepulse.src.tracepulse.tracer",
        "description": "tracepulse.src.tracepulse.tracer",
        "peekOfCode": "def trace(_fn: Optional[Callable] = None, *, capture_args: Optional[bool] = None, tags: Optional[Dict[str, Any]] = None, sample_rate: float = 1.0):\n    \"\"\"\n    Decorator to trace sync and async callables.\n    Usage: @trace or @trace(capture_args=True, tags={'layer': 'db'})\n    \"\"\"\n    def decorator(fn: Callable):\n        fn_name = fn.__name__\n        # Determine capture setting (decorator param overrides config)\n        do_capture = capture_args if capture_args is not None else settings.CAPTURE_ARGS\n        def _prepare_extra(args, kwargs):",
        "detail": "tracepulse.src.tracepulse.tracer",
        "documentation": {}
    },
    {
        "label": "trace_block",
        "kind": 2,
        "importPath": "tracepulse.src.tracepulse.tracer",
        "description": "tracepulse.src.tracepulse.tracer",
        "peekOfCode": "def trace_block(name: str, *, tags: Optional[Dict[str, Any]] = None, sample_rate: float = 1.0):\n    \"\"\"\n    Context manager for tracing arbitrary code blocks.\n    Usage: with trace_block(\"my_block\"): ...\n    \"\"\"\n    if not _should_record(sample_rate):\n        yield\n        return\n    start = time.perf_counter()\n    extra = _get_context()",
        "detail": "tracepulse.src.tracepulse.tracer",
        "documentation": {}
    },
    {
        "label": "safe_repr",
        "kind": 2,
        "importPath": "tracepulse.src.tracepulse.utils",
        "description": "tracepulse.src.tracepulse.utils",
        "peekOfCode": "def safe_repr(obj: Any) -> str:\n    \"\"\"\n    Safely return a string representation of an object.\n    Catches exceptions during str() conversion to prevent crashing the app.\n    Truncates long strings to avoid massive log files.\n    \"\"\"\n    try:\n        s = str(obj)\n        if len(s) > settings.MAX_ARG_LENGTH:\n            return s[:settings.MAX_ARG_LENGTH] + \"...\"",
        "detail": "tracepulse.src.tracepulse.utils",
        "documentation": {}
    },
    {
        "label": "test_sync_trace",
        "kind": 2,
        "importPath": "tracepulse.tests.test_tracepulse",
        "description": "tracepulse.tests.test_tracepulse",
        "peekOfCode": "def test_sync_trace():\n    \"\"\"Test sync function tracing.\"\"\"\n    @trace\n    def add(a, b):\n        return a + b\n    result = add(2, 3)\n    assert result == 5\ndef test_async_trace():\n    \"\"\"Test async function tracing.\"\"\"\n    @trace",
        "detail": "tracepulse.tests.test_tracepulse",
        "documentation": {}
    },
    {
        "label": "test_async_trace",
        "kind": 2,
        "importPath": "tracepulse.tests.test_tracepulse",
        "description": "tracepulse.tests.test_tracepulse",
        "peekOfCode": "def test_async_trace():\n    \"\"\"Test async function tracing.\"\"\"\n    @trace\n    async def async_add(a, b):\n        await asyncio.sleep(0.01)\n        return a + b\n    result = asyncio.run(async_add(2, 3))\n    assert result == 5\ndef test_trace_block():\n    \"\"\"Test trace_block context manager.\"\"\"",
        "detail": "tracepulse.tests.test_tracepulse",
        "documentation": {}
    },
    {
        "label": "test_trace_block",
        "kind": 2,
        "importPath": "tracepulse.tests.test_tracepulse",
        "description": "tracepulse.tests.test_tracepulse",
        "peekOfCode": "def test_trace_block():\n    \"\"\"Test trace_block context manager.\"\"\"\n    with trace_block(\"test_operation\", tags={\"test\": True}):\n        x = sum(range(100))\n    assert x == 4950\ndef test_context():\n    \"\"\"Test context helpers.\"\"\"\n    token = set_context({\"request_id\": \"test-123\"})\n    assert token is not None\n    clear_context(token)",
        "detail": "tracepulse.tests.test_tracepulse",
        "documentation": {}
    },
    {
        "label": "test_context",
        "kind": 2,
        "importPath": "tracepulse.tests.test_tracepulse",
        "description": "tracepulse.tests.test_tracepulse",
        "peekOfCode": "def test_context():\n    \"\"\"Test context helpers.\"\"\"\n    token = set_context({\"request_id\": \"test-123\"})\n    assert token is not None\n    clear_context(token)\ndef test_sampling():\n    \"\"\"Test sampling works without errors.\"\"\"\n    @trace(sample_rate=0.5)\n    def maybe_traced():\n        return 42",
        "detail": "tracepulse.tests.test_tracepulse",
        "documentation": {}
    },
    {
        "label": "test_sampling",
        "kind": 2,
        "importPath": "tracepulse.tests.test_tracepulse",
        "description": "tracepulse.tests.test_tracepulse",
        "peekOfCode": "def test_sampling():\n    \"\"\"Test sampling works without errors.\"\"\"\n    @trace(sample_rate=0.5)\n    def maybe_traced():\n        return 42\n    result = maybe_traced()\n    assert result == 42\nif __name__ == \"__main__\":\n    test_sync_trace()\n    test_async_trace()",
        "detail": "tracepulse.tests.test_tracepulse",
        "documentation": {}
    }
]